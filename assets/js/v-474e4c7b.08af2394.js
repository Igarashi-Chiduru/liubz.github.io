"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2800],{4517:(s,a,n)=>{n.r(a),n.d(a,{data:()=>l});const l={key:"v-474e4c7b",path:"/web/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E5%92%8C%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88.html",title:"移动端常见问题和解决方案",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"移动端300毫秒延迟",slug:"移动端300毫秒延迟",children:[{level:3,title:"解决方案",slug:"解决方案",children:[]}]},{level:2,title:"禁止滑动穿透",slug:"禁止滑动穿透",children:[]}],filePathRelative:"web/移动端常见问题和解决方案.md",git:{updatedTime:1636880153e3,contributors:[{name:"lbz",email:"905808069@qq.com",commits:1}]}}},3744:(s,a)=>{a.Z=(s,a)=>{for(const[n,l]of a)s[n]=l;return s}},2539:(s,a,n)=>{n.r(a),n.d(a,{default:()=>p});const l=(0,n(6252).uE)('<h1 id="移动端常见问题和解决方案" tabindex="-1"><a class="header-anchor" href="#移动端常见问题和解决方案" aria-hidden="true">#</a> 移动端常见问题和解决方案</h1><h2 id="移动端300毫秒延迟" tabindex="-1"><a class="header-anchor" href="#移动端300毫秒延迟" aria-hidden="true">#</a> 移动端300毫秒延迟</h2><p>移动端浏览器里点击操作会存在300ms延迟，往往会造成点击延迟甚至点击无效，这个是众所周知的事情。</p><p>2007年苹果发布首款iPhone搭载的Safari为了将桌面端网站能较好地展示在移动端浏览器上而使用了双击缩放。该方案就是上述300ms延迟的主要原因，当用户执行第一次单击后会预留300ms检测用户是否继续执行单击，若是则执行缩放操作，若否则执行点击操作。鉴于该方案的成功，其他移动端浏览器也复制了该方案，现在几乎所有移动端浏览器都配备该功能。而该方案引发的点击延迟被称为点击穿透。</p><h3 id="解决方案" tabindex="-1"><a class="header-anchor" href="#解决方案" aria-hidden="true">#</a> 解决方案</h3><ol><li>fastclick有现成的NPM包，可直接安装到项目里。引入fastclick可使用click事件代替tap事件，接入方式极其简单。</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#C586C0;">import</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">Fastclick</span><span style="color:#D4D4D4;"> </span><span style="color:#C586C0;">from</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&quot;fastclick&quot;</span><span style="color:#D4D4D4;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#9CDCFE;">FastClick</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">attach</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">document</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">body</span><span style="color:#D4D4D4;">);</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="禁止滑动穿透" tabindex="-1"><a class="header-anchor" href="#禁止滑动穿透" aria-hidden="true">#</a> 禁止滑动穿透</h2><p>禁止默认事件</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#9CDCFE;">document</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">querySelector</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&quot;.mask&quot;</span><span style="color:#D4D4D4;">).</span><span style="color:#DCDCAA;">addEventListener</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&quot;touchmove&quot;</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">event</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> {</span></span>\n<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">event</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">preventDefault</span><span style="color:#D4D4D4;">({</span></span>\n<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">passive:</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">false</span></span>\n<span class="line"><span style="color:#D4D4D4;">  });</span></span>\n<span class="line"><span style="color:#D4D4D4;">});</span></span>\n<span class="line"><span style="color:#6A9955;">// vue中写法</span></span>\n<span class="line"><span style="color:#808080;">&lt;</span><span style="color:#569CD6;">div</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">class</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;mask&quot;</span><span style="color:#D4D4D4;"> </span><span style="color:#F44747;">@touchumove.prevent&gt;&lt;/div&gt;</span></span>\n<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>',10),e={},p=(0,n(3744).Z)(e,[["render",function(s,a){return l}]])}}]);